#include <iostream>
using namespace std;
//Автор: Моисеенко Сергей Дата: 18.03.2022
void fun(int &count, int k){//Функция нахождения чисел, которые выполняют условие
    int arr[302];//Массив для каждой цифры числа
    for (int i=0;i<302;i++){//Цикл обнуления массива
        arr[i]=0;//обнуление массива
    }
    int f=1;//Разряды числа
    arr[0]=1;//Вписать первую цифру
    for (int i=0;i<k;i++){//Цикл увеличения степени
        for (int j=0;j<f;j++){//Цикл умножения цифр на 2
            arr[j]*=2;//Умножение цифры на 2 
        }
        for (int g=0;g<f;g++){//Цикл избавления от переполнения цифры
            if (arr[g]>9){//Условие для избавления от переполнения цифры
                arr[g]%=10;//Убрать значение лишнего разряда
                arr[g+1]++;//Прибавить значение, отнятого разряда
            }
        }
        if (arr[f]){//Условие повышение разряда числа
            f++;//Увеличение разряда
        }
    }
    
    int l=f;//Сохранение разряда числа
    int h=k;//Сохранение степени
    int e=0;//Разряд степени
    while (h>0){//Пока степень не равна 0
        e++;//Увеличение разряда степени
        h=h/10;//Уменьшение степени
    }
    int arr1[e];//Массив с цифрами степени
    h=k;//Сохранение степени
    for (int i=0;i<e;i++){//Цикл сохранения цифр степени
        arr1[i]=h%10;//Сохранение конечной цифры
        h=h/10;//Уменьшение степени
    }
    h=k;//Сохранение степени
    f=1;//Разряды числа
    int u=0;//Точка отсчёта
    int y=e;//Сохранение разряда степени
    for (int i=0;i<e;i++){//Цикл вычитания числа степени с данным числом
        for (int j=u;j<f;j++){//Цикл вычитания
            if (y==e){//Условие вычитания
                arr[j]-=arr1[j];//Вычитание в цифре
            }
        }
        for (int g=u;g<f;g++){//Цикл избавления от отрицательных значений
            if (arr[g]<0){//Если цифра отрицательна
                arr[g]+=10;//Взять цифру из следующей цифры
                arr[g+1]-=1;//Забрать цифру
                if (arr[g+1]<0 and i==e-1){//Условие для избавления от отрицательных значений
                    e++;//Увеличение разряда степени
                }
            }
        }
        if (f<e){//Условие сдвига в разряде для данного числа
            f++;//Сдвиг в разряде для данного числа
            u++;//Смещение точки отсчёта
        }
    }
    
    int a1;//Триада цифр
    int f1=0;//Флаг для смены знака
    int r=1;//Разряды
    int sum=0;//Сумма триад цифр
    for (int i=0;i<l;i++){//Цикл нахождения суммы триад
        if (r>100){//Условие возвращения первоначального разряда
            r=1;//Возвращение первоначального разряда
            f1++;//Смена флага знака
        }
        if (r<=100){//Условие увеличения суммы триад
            a1=a1+arr[i]*r;//Увеличение триады цифр
            r*=10;//Увеличение разряда
            if (f1%2==0){//Условие для плюса
                sum+=a1;//Увеличение суммы триад цифр
                a1=0;//Обнуление триады цифр
            }
            else if (f1%2!=0){//Условие для минуса
                sum-=a1;//Уменьшение суммы триад цифр
                a1=0;//Обнуление триады цифр
            }
        }
    }
    if (sum%7==0){//Условие для увеличения количества чисел, выполняемых данное условие
        count++;//Увеличение количества чисел, выполняемых данное условие
        // for (int i=0;i<l;i++){//Отображение чисел, которые выполняют условие
        //     cout<<arr[l-i-1];
        // }
        // cout<<"\n";
        // cout<<"\n";
    }
}

int main()
{
    int count=0;//Количество чисел, которые выполняют условие
    int k=1000;//Степень
    for (int i=1;i<k;i++){//Цикл нахождения натуральных чисел, которые выполняют условие
        fun(count,i);//Функция нахождения чисел, которые выполняют условие
    }
    cout<<"Количество натуральных чисел, которые выполняют условие: "<<count<<"\n";//Вывод ответа
}
